<div class="form-container">
  <form
    (ngSubmit)="save()"
    [formGroup]="bookForm"
    class="d-flex flex-column justify-content-center align-items-center"
  >
    <div class="d-flex flex-column justify-content-start w-100">
      <mat-label class="my-2 h6">Título</mat-label>
      <input class="form-control" formControlName="title">
    </div>
    <div
    *ngIf="bookForm.controls['title'].errors && bookForm.controls['title'].touched"
    class="my-1 w-100"
    >
      <p class="text-danger text-left h6">*Precisa ser preenchido entre 3 a 30 caracteres!</p>
    </div>

    <div class="d-flex flex-column justify-content-start w-100">
      <mat-label class="my-2 h6">Autor</mat-label>
      <select formControlName="author">
        <option selected value=""> Escolhar um autor</option>
        <option *ngIf="!authors.length">Nenhum autor cadastrado!</option>
        <option *ngFor="let author of authors" [value]="author.id">{{ author.name }}</option>
      </select>
    </div>
    <div
    *ngIf="bookForm.controls['author'].errors && bookForm.controls['author'].touched"
    class="my-1 w-100"
    >
      <p class="text-danger text-left h6">*Precisa ser preenchido!</p>
    </div>

    <div class="d-flex flex-column justify-content-start w-100">
      <mat-label class="my-2 h6">Descrição</mat-label>
      <textarea class="form-control" rows="3" formControlName="description"></textarea>
    </div>
    <div
    *ngIf="bookForm.controls['description'].errors && bookForm.controls['description'].touched"
    class="my-1 w-100"
    >
      <p class="text-danger text-left h6">*Precisa ser preenchido entre 10 a 150 caracteres!</p>
    </div>

    <div class="d-flex flex-column justify-content-start w-100">
      <mat-label class="my-2 h6">Data de lançamento</mat-label>
      <input class="form-control" type="date" formControlName="release_date">
    </div>
    <div
    *ngIf="bookForm.controls['release_date'].errors && bookForm.controls['release_date'].touched"
    class="my-1 w-100"
    >
      <p class="text-danger text-left h6">*Precisa ser preenchido!</p>
    </div>

    <button class="btn btn-success mt-3" type="submit">{{data ? 'Editar Produto' : 'Adicionar produto'}}</button>

  </form>
</div>

